(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["workspaces"],{2532:function(t,e,s){"use strict";var r=s("23e7"),n=s("5a34"),o=s("1d80"),a=s("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(o(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"9b19":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"backlog-view container"},[s("p",[t._v("Workspaces / "),s("small",{staticStyle:{color:"white"}},[t._v("Privacy : "),s("b-button",{attrs:{pill:"",size:"sm",variant:"primary"},on:{click:t.togglePrivacy}},[t._v(t._s(t.privacy))])],1)]),s("NewItemForm",{attrs:{namespace:"workspace"}}),t._l(t.workspaces,(function(e){return s("div",{key:e.url,staticClass:"card"},[s("b-button",{staticClass:"card-block",staticStyle:{"text-align":"left"},on:{click:function(s){return s.target!==s.currentTarget?null:t.open(e)}}},[s("h5",{staticClass:"card-title",on:{click:function(s){return s.target!==s.currentTarget?null:t.open(e)}}},[s("span",{staticClass:"text-muted"},[t._v("#")]),s("span",{on:{click:function(s){return t.open(e)}}},[s("Label",{attrs:{url:e.url,tick:t.tick}})],1),s("button",{staticClass:"close-button pull-right",attrs:{type:"button"},on:{click:function(s){return t.removeItem(e)}}},[s("span",[t._v("Ã—")])])])])],1)}))],2)},n=[],o=(s("caad6"),s("d81d"),s("b0c0"),s("d3b7"),s("2532"),s("96cf"),s("1da1")),a={name:"Workspaces",components:{NewItemForm:function(){return s.e("chunk-0e88118b").then(s.bind(null,"004a"))},Label:function(){return s.e("chunk-2d20fb75").then(s.bind(null,"b58d"))}},data:function(){return{tick:new Date,souk_ws:[],url:void 0}},created:function(){void 0!=this.$route.query.url?(this.url=this.$route.query.url,console.info("URL1",this.url)):this.getWorkspaces()},watch:{privacy:function(){console.log(this.storage+this.privacy,this.storage),this.getWorkspaces()},storage:function(){console.log(this.storage+this.privacy),this.getWorkspaces()},workspaces:function(){console.log("must update workspaces in table",this.workspaces),this.tick=new Date},url:function(){console.info("URL2",this.url),this.$store.commit("table/setTable",this.url)}},methods:{open:function(t){console.log(t),this.$router.push({name:"Bases",query:{url:t.url}})},openWorkspace:function(t){this.$store.commit("table/setWorkspace",t)},togglePrivacy:function(){this.$store.commit("table/togglePrivacy")},getWorkspaces:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==t.storage||void 0!=t.url){e.next=7;break}return t.$store.dispatch("table/getWorkspaces",t.storage+t.privacy+"/table/workspaces/"),e.next=4,t.$getWorkspaces(t.storage+t.privacy+"/table/test/workspaces/");case 4:s=e.sent,t.souk_ws=s.map((function(t){return{name:t.name,createdAt:t.createdAt,updatedAt:t.updatedAt,url:t.url}})).sort((function(t,e){return new Date(t.updatedAt)-new Date(e.updatedAt)})),console.log(t.souk_ws);case 7:case"end":return e.stop()}}),e)})))()},itemLane:function(t){return this.$store.state.workspace.items.todo.includes(t)?"todo":this.$store.state.workspace.items.inProgress.includes(t)?"inProgress":"done"},removeItem:function(t){this.$store.commit("workspace/removeItem",t)}},computed:{workspaces:{get:function(){return this.$store.state.table.workspaces},set:function(){}},storage:{get:function(){return this.$store.state.solid.storage},set:function(){}},path:{get:function(){return this.storage+this.privacy+"/table/workspaces/"},set:function(){}},privacy:{get:function(){return this.$store.state.table.privacy},set:function(){}}}},c=a,i=s("2877"),u=Object(i["a"])(c,r,n,!1,null,null,null);e["default"]=u.exports},caad6:function(t,e,s){"use strict";var r=s("23e7"),n=s("4d64").includes,o=s("44d2"),a=s("ae40"),c=a("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!c},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}]);
//# sourceMappingURL=workspaces.54ebdf7b.js.map